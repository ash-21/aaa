set @temp = (select min(appointmentTime) from appointments);
call make_intervals(@temp,now(),1,'MONTH');
select interval_start,count(*) from time_intervals,appointments where appointmentTime between interval_start and interval_end group by interval_start;



call make_intervals(date_sub(now(),interval 1 day),now(),'1','HOUR');
select hour(interval_start) as time,count(*) as number from time_intervals,appointments where hour(appointmentTime) between hour(interval_start) and hour(interval_end) group by interval_start order by hour(interval_start);

